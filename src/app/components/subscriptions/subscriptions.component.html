<app-header></app-header>
<section style="display: flex; gap: 100px; padding: 0 35px 0 20px;">

  <div class="accounts">
    <app-accounts></app-accounts>
  </div>


  <div class="main">
    <div class="search-container">

      <button class="icon-search">
        <i class="fa-solid fa-magnifying-glass"></i>
      </button>
      <input type="text" class="search" placeholder="Search">

    </div>
    <div>
      <!-- <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="25"
        viewBox="0 0 24 25" fill="none">
        <rect y="0.5" width="24" height="24" fill="url(#pattern0)" fill-opacity="0.7" />
        <defs>
          <pattern id="pattern0" patternContentUnits="objectBoundingBox" width="1" height="1">
            <use xlink:href="#image0_74_1822" transform="scale(0.005)" />
          </pattern>
          <image id="image0_74_1822" width="200" height="200"
            xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAABShJREFUeJzt3cuKHFUAx+F/XHghCBJwo2YSNxISTSTiRgUFX0DwCXwAwTeICy8Ln0RcqElQ8BZ3gogustFEk0BWXsAIMxPiJi7KYBIzJ1PddfpUVX8fnGWfrjpzftNJd09VAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA9HM8yZdJriW5bjQZm0k+SLJxl59VX68m+X0Xz/9bklcGfu5ZOJZkK+03iNGNy0keLv7E+tlNHDfGrwM+72x8kvabwrh1vFf8ifXT97knaU/FubeTPFBxfvr7PskzA83Vd9PX3GvV3FNxbnGMz97WBzA1NQOByRMIFAgECmoGcrXi3Cxms/UBTE3NQM5UnJvFfNX6AKam5ltvTyX5Jt45GYvL6b7Z8MdA83mbd0lnk7yQ5PN0XzWhjc0k7yd5LsPFsTYmWTWj4BUE1p1AoEAgUCAQKBAIFAgECgQCBQKBAoFAgUCgQCBQIBAoEAgUCAQKBAIFAoECgUCBQKBAIFBQO5Bn013+5++0v7L51Ma1dPdWOd571ZmEp9Nd4b31Rpv62EpytOfar0Lf8+A2n6b95prLON1z7VdhLQJxf5Bp2M74LsDXd9NP8rI/NQ96sr81RmpsG2wtAvEuFhQIBAoEAgXuDzINW60PYF3VDOTrinOvmzOtD4DhHU33m6/1ZwhTH5tJnuy59quwFp+D1HY83dclrqX9RpvauJbksyTHeq/6aqxFIJN8b5pR6LvpJ7nXvIsFBQKBAoFAgUCgQCBQIBAoEAgUCAQKBAIFAoECgUCBQKBAIFAgECgQCBQIBAoEAgUCWW8vJ3ktyb7WB3IH+9Id24utD4T19G7++3vxX5Js9Hx8zb9J30hy4abHnuj5+Mk4nORU5nkbhK0kJ5McGmy1VufmOBaNpFYgt8dxY7zZY45JOJzkr7TfyLXHlUwrkney87n0iaRGIDvFMctITqX95l3V+GigNavt7dz9XC5kd5EMHciBlOOYXSRz/GfVTmNzoDWraTdx9IlkyEB2G8esImm9aVc9xuyt9D+fu0Uy1Pr0jePGOLHrsx+p1htWIJ2Xsvg5XUi3ge9kiPU5kOTiEsf3fJ+FWITPQeZvpw2+G4+nu3D2MnPs5EC6C5wfXHKOyWr9G90rSOehJOez3Lnd6ZVkmfVZ9pXjepIfkzy48KqMwDpd2X3s/0l/LMnPWe4cL+bWSBYN5GCWj+OnJI8suyitnUz7jbuq8eFAa1bT0JEsEsjBJJeWPIZZxJF0H55dSfvNW3v8meSJgdastiEj6fu4gxHH/xxK9yHaZtpv5KHHZrpXjqnEccNQkfR9zKUln3N2cTBeQ0SyyiEOVm4qkYiDZvZn3JGcizhobKyRiIPRGFsk4mB0xhKJOBit/en+aEocsINWkZxL8ugKzg+WtupIxMHkrCoScTBZtSMRB5NXKxJxMBtDR3I+4mBmNjJMJOJgtpaNRBzM3qKRiIO10TcScbB2dhuJOFhb+5Oczc5x/BBxsObuS/JGku+SXP13fJvk9ST3NjyuSTiS5HS6Rav1aWzfsZ3p3teDGTmScd8fZGr39WBmTqd9BHcbH1c7e2ZhT8W5rya5v+L8Q9hOsrf1QTBeNQO5XnHuIdVcAybO7Q+gQCBQIBAoqBnI1YpzD2Wr9QEwbjUD+aLi3EP5vPUBsL7Gfn+QKd3Xg5k6lO7DuDHdjm2q9/UAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYwD99/Cq4IqpvVAAAAABJRU5ErkJggg==" />
        </defs>
      </svg> -->
      <p style="margin-top: 7px; padding-left: 15px;color: rgba(71, 71, 71, 1);"><i class="fa-solid fa-filter"></i>
        Creation Date</p>
    </div>

    <div *ngIf="subscriptions.length > 0; else noSubscriptions">
      <div *ngFor="let subscription of subscriptions">
        <div
          style="display: flex; gap: 10px ; background-color: white; padding: 15px; border-radius: 12px; margin-bottom: 30px; ">
          <div style="width: 25%; align-self: center; padding-left: 10px">
            <button
              style="padding: 15px 25px; background-color:  rgba(236, 237, 237, 1);width:80%;outline: none;border: none;font-size: 20px; border-radius:10px ; justify-content: center; align-items: center; font-weight: 700;">
              {{ getFirstWord(subscription.categories) }}
            </button>
          </div>
          <div style="width: 55%; display:flex; gap: 10px; flex-direction: column">
            <p style="margin: 0; font-size: 18px;">{{ subscription.title }}</p>
            <p style="margin: 0; font-size: 18px;">Next payment date: <strong>{{ subscription.endDate | date }}</strong>
            </p>
          </div>

          <div style="width: 20%; text-align: right; padding-right:10px; color: rgba(238, 63, 25, 1); font-size: 20px;">
            <p>{{ subscription.amount }}$</p>
          </div>
        </div>
        <!-- <h3>{{ subscription.title }}</h3>
        <p>Categories: {{ subscription.categories }}</p>
        <p>Amount: {{ subscription.amount }}</p>
        <p>Start Date: {{ subscription.startDate | date }}</p>
        <p>End Date: {{ subscription.endDate | date }}</p>
        <p>Description: {{ subscription.description }}</p>
        <hr> -->
      </div>
    </div>
    <ng-template #noSubscriptions>
      <p style="padding-left: 3px;">No subscriptions found.</p>
    </ng-template>

  </div>


  <div class="user-actions">
    <div class="actions">

      <div class="type type-add">
        <a class="arrow add" (click)="toggleOverlay()">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none">
            <path d="M7.38 17.4533V10.4933H0.5V7.61334H7.38V0.653345H10.42V7.61334H17.3V10.4933H10.42V17.4533H7.38Z"
              fill="#86C9CF" />
          </svg>
        </a>
        <p class="type-text">Add Subscription</p>
      </div>

      <div class="type type-add">
        <a class="arrow add">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none">
            <path d="M7.38 17.4533V10.4933H0.5V7.61334H7.38V0.653345H10.42V7.61334H17.3V10.4933H10.42V17.4533H7.38Z"
              fill="#86C9CF" />
          </svg>
        </a>
        <p class="type-text">Add Transaction</p>
      </div>


      <div *ngIf="showOverlay" class="left-overlay" (click)="toggleOverlay()"></div>
      <div *ngIf="showOverlay" class="right-overlay">

        <div class="head-overlay">
          <h1 class="title-overlay">Add Subscription </h1>
          <a (click)="toggleOverlay()" class="close-overlay">
            <img src="../../../assets/close.png" alt="" width="30px" height="30px">
          </a>
        </div>

        <app-subscription-add (closeForm)="toggleOverlay('kaito')"></app-subscription-add>

      </div>

    </div>
  </div>



</section>